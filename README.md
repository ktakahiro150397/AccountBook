# AccountBook

## 機能概要

### 実現したい項目

1. 家庭として支出するべき項目とその額を入力・集計し、個人の負担額を算出する
1. 月ごとに、個人負担額の過不足を調整する
1. 負担割合は自由に設定できる

### 行うこと

個人の負担額を算出・調整することを重点に置く  
個人分から家庭分を出した場合に、その算出を行う  
家庭分から個人分を出した場合に、その算出を行う  

支出の入力・参照・集計を行う

### 現状でやらないこと

全ての支出は管理しない  
**家計簿ではない**ことに注意する  
管理するのは家庭分全てと、個人分から出した家庭分のみ  
個人の支出に関する管理を行わない  

個人分について記録するかどうかは別で検討する  

### 管理有無一覧表

| 支出元 | 支出先 | 管理 | 管理有無の理由 |
| --- | --- | --- | :--- |
| 家庭分 | 家庭分 | `する` | 負担額算出時、全ての家庭分を参照する必要があるため |
| 家庭分 | 個人分 | `する` | 負担額算出時、全ての家庭分を参照する必要があるため |
| 個人分 | 家庭分 | `する` | 負担額算出時、個人分から算出している金額を含めて計算する必要があるため |
| 個人分 | 個人分 | `しない` | 個人分の支出は、家庭分の支払いに影響を及ぼさないため |

## 運用

### 個人が行うべきこと
個人が行う**べき**ことは以下の通り。  

* 家庭分から支出している個人分の支出についての詳細の公開・入力  
(家庭分から出している分について、自分の財布からその費用を補填する必要がある)
* 個人分から支出している家庭分の支出についての詳細の入力  
(個人分から出している分について、家庭分として2人で負担する必要がある / 差額が個人へ返還される)

#### 運用流れ

1. 月のいずれかの日に、お互いが生活費用口座へ入金を行う。
1. 月の間、生活費をそこから支出する。
1. 生活費口座から支出した項目を全て記録する。
1. 支出項目について、家庭分・個人分の分類を行う。
1. 翌月に、集計を行う。過不足額を算出し、解決する。

#### 月調整計算式

変数  
|変数名|意味合い|単位|
|:---:|:---|:---:|
|Nf|個人Nの月初め入金額|円|
|KS|家庭分口座の合計支出|円|
|Np|個人Nの負担割合|%|
|Ni|個人Nが家庭分から出した個人分|円|
|Nk|個人Nが個人分から出した家庭分|円|

この時、調整時に計算する個人Nの当月負担額は以下のように計算する。  
正の値の場合、その値の額を追加で納める必要がある。
負の値の場合、その値の額の絶対値が返還される。


> <img src="https://latex.codecogs.com/gif.latex?K_{S}&space;\times&space;N_{p}&space;\div&space;100&space;&plus;&space;(N_{f}&space;&plus;&space;N_{k}&space;-&space;N_{i})">


### 共通で使用する口座を1つ作成し、そこから出費を行う場合
共通口座を1つ作成し、そこから家庭分を支出する  
個人分も合わせて出してもよいが、個人分として記録し、支出調整を行う  
月初めに一定の金額を入金するルールを別途整備する

#### メリット

* お互いが同一の履歴をすぐに参照できる
* 仕組みとして分かりやすい
* 共通口座からの出費は原則として家庭分となるため、記録が楽

#### デメリット

* 三井住友銀行の場合、デビットカードは同一口座に1枚しか作成できない  
(デビットカードによる電子決済以外は全てレシートからの手入力になる)







